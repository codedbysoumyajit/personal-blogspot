
<div class="row mt-4">
    <div class="col-md-10 offset-md-1">
        <div class="card post-detail-card">
            <% if (post.imageUrl) { %>
                <img src="<%= post.imageUrl %>" class="card-img-top post-header-full-img" alt="<%= post.title %> header image">
            <% } %>
            <div class="card-body">
                <h1 class="card-title mb-3"><%= post.title %></h1>
                <div class="mb-3 text-muted post-meta"> <span>By <span class="fw-bold"><%= post.author %></span></span> <span>on <%= new Date(post.createdAt).toLocaleDateString() %></span>
                    <% if (post.location) { %>
                        <span><i class="bi bi-geo-alt-fill"></i> <%= post.location %></span>
                    <% } %>
                    <span><i class="bi bi-eye-fill"></i> <span id="view-count-display"><%= post.views %></span> views</span>
                </div>
                <hr>
                <div class="card-text post-content">
                    <%- parsedContent %>
                </div>

                <div class="d-flex justify-content-between align-items-center mt-4 pt-3 border-top">
                    <a href="/" class="btn btn-secondary">Back to All Posts</a>
                    <button class="btn btn-primary like-button" data-post-id="<%= post._id %>">
                        <i class="bi bi-heart-fill like-icon"></i>
                        <span class="like-count"><%= post.likes %></span>
                    </button>
                </div>

                <div class="mt-4 pt-3 border-top">
                    <h5 class="mb-3 text-center">Share this post:</h5>
                    <div id="share-buttons-container" class="d-flex justify-content-center flex-wrap gap-2">
                        <button class="btn btn-outline-info share-btn" data-platform="twitter">
                            <i class="bi bi-twitter"></i> Twitter
                        </button>
                        <button class="btn btn-outline-primary share-btn" data-platform="facebook">
                            <i class="bi bi-facebook"></i> Facebook
                        </button>
                        <button class="btn btn-outline-info share-btn" data-platform="linkedin">
                            <i class="bi bi-linkedin"></i> LinkedIn
                        </button>
                        <button class="btn btn-outline-success share-btn" data-platform="whatsapp">
                            <i class="bi bi-whatsapp"></i> WhatsApp
                        </button>
                        <button class="btn btn-outline-secondary share-btn" data-platform="email">
                            <i class="bi bi-envelope-fill"></i> Email
                        </button>
                        <button class="btn btn-outline-dark share-btn" data-platform="copy">
                            <i class="bi bi-link-45deg"></i> Copy Link
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="/js/likes.js"></script>
<script src="/js/post-actions.js"></script>
